(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{128:function(e,t,n){e.exports=n(235)},13:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var a=n(80),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"bfad1697-8f63-40c0-990f-d2c44784401c"}}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.get("users?count=".concat(e,"&page=").concat(t)).then(function(e){return e.data})},unfollow:function(e){return r.delete("follow/".concat(e)).then(function(e){return e.data})},follow:function(e){return r.post("follow/".concat(e),{}).then(function(e){return e.data})}},u={getUserProfile:function(e){return r.get("profile/".concat(e)).then(function(e){return e.data})},getStatus:function(e){return r.get("profile/status/".concat(e)).then(function(e){return e.data})},updateStatus:function(e){return r.put("profile/status",{status:e}).then(function(e){return e.data})}},c={getUserData:function(){return r.get("auth/me").then(function(e){return e.data})},loginUser:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n}).then(function(e){return e.data})},logout:function(){return r.delete("auth/login")}}},133:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return h});var a=n(6),r=n.n(a),i=n(12),u=n(5),c=n(13),o=n(46),s="samirai-network/auth/SET-USER-DATA",l="TOGGLE-LOGGED",f={userData:{id:null,login:null,email:null},isLogged:!1};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(u.a)({},e,{userData:Object(u.a)({},t.data)});case l:return Object(u.a)({},e,{isLogged:t});default:return e}}var p=function(e){return{type:s,data:e}},m=function(e){return{type:l,data:e}},g=function(){return function(){var e=Object(i.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getUserData();case 2:0===(n=e.sent).resultCode&&(t(p(n.data)),t(m(!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,n){return function(){var a=Object(i.a)(r.a.mark(function a(i){var u,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.loginUser(e,t,n);case 2:0===(u=a.sent).resultCode?i(g()):(s=u.messages.length>0?u.messages[0]:"Some error",i(Object(o.a)("login",{_error:s})));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},h=function(){return function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.resultCode&&(t(p(null)),t(m(!1)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},20:function(e,t,n){e.exports={nav:"Navbar_nav__28q3A",activeLink:"Navbar_activeLink__1VKPn"}},235:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(43),u=n.n(i),c=n(11),o=n(31),s=n(32),l=n(35),f=n(33),d=n(36),p=(n(133),n(20)),m=n.n(p),g=n(78),b=n.n(g),h=function(e){return r.a.createElement("a",{className:b.a.friendsItem,href:e.link},e.name)},E=n(79),O=n.n(E),v=function(e){var t=e.state.map(function(e){return r.a.createElement(h,{key:e.id,name:e.name,link:e.link})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Friends"),r.a.createElement("div",{className:O.a.friends},t))},j=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:m.a.nav},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/profile",activeClassName:m.a.activeLink},"Profile")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/dialogs",activeClassName:m.a.activeLink},"Messages")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/news",activeClassName:m.a.activeLink},"News")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/music",activeClassName:m.a.activeLink},"Music")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/settings",activeClassName:m.a.activeLink},"Settings")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/users",activeClassName:m.a.activeLink},"Users")),r.a.createElement(v,{state:e.state.friends})))},w=n(1),y=n(30),L=n(55),S=n(71),T={friends:[{id:0,name:"John",link:"http://link1"},{id:1,name:"Meth",link:"http://link2"},{id:2,name:"Alex",link:"http://link3"}]},k=n(5),x=n(18),D="INITIALIZED-SUCCESS",N={initialized:!1};var _=n(72),I=n(81),P=n(234),C=Object(y.c)({profilePage:L.d,dialogs:S.b,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;arguments.length>1&&arguments[1];return e},usersPage:_.a,auth:x.a,form:P.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;switch((arguments.length>1?arguments[1]:void 0).type){case D:return Object(k.a)({},e,{initialized:!0});default:return e}}}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,A=Object(y.e)(C,U(Object(y.a)(I.a))),G=n(44),R=n.n(G),z=function(e){return r.a.createElement("header",{className:R.a.header},r.a.createElement("img",{src:"https://img1.freepng.ru/20180319/bie/kisspng-chicago-bulls-logo-rebranding-benny-the-bull-clip-bull-logo-5aafd393628c09.0793821915214724034037.jpg",alt:"img"}),e.isLogged?r.a.createElement("span",{className:R.a.loggedText},e.userName," -",r.a.createElement("button",{onClick:e.logOut},"Log out")):r.a.createElement(c.b,{to:"/login",className:R.a.loggedText},"Login"))},F=n(23),H=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(z,this.props)}}]),t}(r.a.Component),M=Object(F.b)(function(e){return{isLogged:e.auth.isLogged,userName:e.auth.userData.login}},{logOut:x.c})(H),W=n(60),J=n.n(W),X=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,326))}),Y=Object(a.lazy)(function(){return n.e(3).then(n.bind(null,322))}),B=Object(a.lazy)(function(){return n.e(4).then(n.bind(null,323))}),K=Object(a.lazy)(function(){return n.e(5).then(n.bind(null,324))}),V=Object(a.lazy)(function(){return n.e(6).then(n.bind(null,328))}),q=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(10),n.e(7)]).then(n.bind(null,327))}),Z=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,325))}),Q=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(M,null),r.a.createElement(j,{state:A.getState().sidebar}),r.a.createElement("div",{className:"content"},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/profile/:userId?",component:X}),r.a.createElement(w.b,{path:"/dialogs"},r.a.createElement(q,{store:A})),r.a.createElement(w.b,{path:"/news",component:Y}),r.a.createElement(w.b,{path:"/music",component:B}),r.a.createElement(w.b,{path:"/settings",component:K}),r.a.createElement(w.b,{path:"/users",component:V}),r.a.createElement(w.b,{path:"/login",component:Z}))))):r.a.createElement("img",{src:J.a,alt:"loading"})}}]),t}(r.a.Component),$=Object(F.b)(function(e){return{initialized:e.app.initialized}},{getUserInfo:x.b,initializeApp:function(){return function(e){var t=e(Object(x.b)());Promise.all([t]).then(function(){e({type:D})})}}})(Q);u.a.render(r.a.createElement(c.a,null,r.a.createElement(F.a,{store:A},r.a.createElement($,null))),document.getElementById("root"))},44:function(e,t,n){e.exports={header:"Header_header__24IYJ",loggedText:"Header_loggedText__2C_B5"}},55:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return g});var a=n(6),r=n.n(a),i=n(12),u=n(22),c=n(5),o=n(13),s={postsData:[{id:"1",message:"Hi how are you?",likes:"5"},{id:"2",message:"Hello I am post?",likes:"10"}],profile:null,status:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:3,message:t.payload,likes:0};return Object(c.a)({},e,{postsData:[].concat(Object(u.a)(e.postsData),[n]),newPostText:""});case"SET-USER-PROFILE":return Object(c.a)({},e,{profile:t.profile});case"SET-STATUS":return Object(c.a)({},e,{status:t.status});default:return e}},f=function(e){return{type:"ADD-POST",payload:e}},d=function(e){return{type:"SET-STATUS",status:e}},p=function(e){return function(){var t=Object(i.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getUserProfile(e);case 2:a=t.sent,n({type:"SET-USER-PROFILE",profile:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:a=t.sent,n(d(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(d(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},60:function(e,t,n){e.exports=n.p+"static/media/spinner.9d935167.gif"},71:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var a=n(22),r=n(5),i={dialogsData:[{id:"1",name:"Oleg"},{id:"2",name:"Dimych"},{id:"3",name:"Sasha"},{id:"4",name:"Ruben"}],messagesData:[{id:"1",message:"Hi"},{id:"2",message:"How is your IT?"},{id:"3",message:"YO"}],messageText:"Enter your text please"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE-TEXT":var n={id:"4",message:t.payload};return Object(r.a)({},e,{messageText:"",messagesData:[].concat(Object(a.a)(e.messagesData),[n])});default:return e}},c=function(e){return{type:"ADD-MESSAGE-TEXT",payload:e}}},72:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return p});var a=n(6),r=n.n(a),i=n(12),u=n(22),c=n(5),o=n(13),s={users:[],itemsPerPage:20,totalCount:0,activePage:1,isLoading:!0,followingInProgress:[2,3]},l=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isLoading:e,id:t}},f=function(e,t){return function(){var n=Object(i.a)(r.a.mark(function n(a){var i;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.c.getUsers(e,t);case 2:i=n.sent,a({type:"SET_USERS",users:i.items}),a({type:"SET-TOTAL-COUNT",total:i.totalCount}),a({type:"CHANGE-CURRENT-PAGE",page:t}),a({type:"TOGGLE-LOADER",isLoading:!1});case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(i.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0,e),t.next=3,o.c.follow(e);case 3:n({type:"FOLLOW",userID:e}),l(!1,e);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(l(!0,e)),t.next=3,o.c.unfollow(e);case 3:n({type:"UN_FOLLOW",userID:e}),n(l(!1,e));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(c.a)({},e,{users:e.users.map(function(e){return e.id===t.userID?Object(c.a)({},e,{followed:!0}):e})});case"UN_FOLLOW":return Object(c.a)({},e,{users:e.users.map(function(e){return e.id===t.userID?Object(c.a)({},e,{followed:!1}):e})});case"SET_USERS":return Object(c.a)({},e,{users:Object(u.a)(t.users)});case"CHANGE-CURRENT-PAGE":return Object(c.a)({},e,{activePage:t.page});case"SET-TOTAL-COUNT":return Object(c.a)({},e,{totalCount:t.total});case"TOGGLE-LOADER":return Object(c.a)({},e,{isLoading:t.isLoading});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(c.a)({},e,{followingInProgress:t.isLoading?[].concat(Object(u.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter(function(e){return e!==t.id})});default:return e}}},78:function(e,t,n){e.exports={friendsItem:"FrienItem_friendsItem__186xl"}},79:function(e,t,n){e.exports={friends:"Friends_friends__3JgjT"}}},[[128,11,9]]]);
//# sourceMappingURL=main.5a47612a.chunk.js.map